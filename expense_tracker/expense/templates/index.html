{% extends 'base.html' %}


{% block title %}
    Homepage
{% endblock title %}
    


{% block main %}
    <h1 class="text-3xl text-center">
        Add your expense
    </h1>

    <form method="post" class="shadow-lg m-10 rounded-lg">
        <div class="form-container px-10 py-10 flex gap-10 justify-center flex-wrap">
            <div>
                <div class="mb-3">
                    <label>Expense Name</label>
                </div>
                <div class="border">
                    {{expense_form.name}}
                </div>
            </div>
            <div>
                <div class="mb-3">
                    <label>Amount</label>
                </div>
                <div class="border">
                    {{expense_form.amount}}
                </div>
            </div>
            <div>
                <div class="mb-3">
                    <label>Category</label>
                </div>
                <div class="border">
                    {{expense_form.category}}
                </div>
            </div>
            <div class="mt-7">
                <button type="submit" class="bg-green-700 px-5 py-2 rounded-lg text-white">Add</button>
            </div>
        </div>
        {% csrf_token %}
    </form>

    <h1 class="text-3xl text-center mt-5">
        All Expenses
    </h1>

    <div class="shadow-lg m-10 rounded-lg py-5">
        <div class="expense-header flex flex-wrap space-x-40">
            <span class="font-bold">Name</span>
            <span class="font-bold">Amount (USD) </span>
            <span class="font-bold">Category</span>
            <span class="font-bold">Date</span>
            <span class="font-bold">Edit</span>
            <span class="font-bold">Delete</span>
        </div>
        <hr class="m-5">
        
        {% for expense in expenses %}
        <div class="expense-row my-3">
            <span class="font-bold">
                {{expense.name}}
            </span>
            <span>
                {{expense.amount}}
            </span>
            <span>
                {{expense.date}}
            </span>
            <span>
                {{expense.category}}
            </span>
            <span><a href="{% url 'edit_expense' expense.id %}">Edit</a></span>
            <span> 
                <form action="{% url 'delete_expense' expense.id %}" method="post">
                    {% csrf_token %}
                    <button type="submit" name="delete">Delete</button>
                </form>
            </span>
        </div>
            
        {% endfor %}
            
    </div>

{% endblock main %}
    